lpTag.callback({"serviceMap":[{"service":"mTag","account":"12757882","baseURI":"sales.liveperson.net"},{"service":"smt","account":"12757882","baseURI":"va.v.liveperson.net"},{"service":"nlp","account":"12757882","baseURI":"va.nlp.liveperson.net"},{"service":"idp","account":"12757882","baseURI":"va.idp.liveperson.net"},{"service":"agent","account":"12757882","baseURI":"sales.liveperson.net"},{"service":"coBrowse","account":"12757882","baseURI":"va.cobrowse.liveperson.net"},{"service":"tokenizer","account":"12757882","baseURI":"tokenizer.liveperson.net"},{"service":"acCdnDomain","account":"12757882","baseURI":"accdn.lpsnmedia.net"},{"service":"openPlatform","account":"12757882","baseURI":"sales.liveperson.net"},{"service":"leRBMstr","account":"12757882","baseURI":"z1-1.birb.liveperson.net"},{"service":"redirect","account":"12757882","baseURI":"z1.liveper.sn"},{"service":"interactionPlatform","account":"12757882","baseURI":"va.i.liveperson.net"},{"service":"coApp","account":"12757882","baseURI":"z1.coapp.liveperson.net"},{"service":"pusher","account":"12757882","baseURI":"va.push.liveperson.net"},{"service":"swift","account":"12757882","baseURI":"z1.objectstorage.liveperson.net"},{"service":"leBiMstr","account":"12757882","baseURI":"z1.bi.liveperson.net"},{"service":"connectionPanel","account":"12757882","baseURI":"va.knowledge.liveperson.net"},{"service":"lpEng","account":"12757882","baseURI":"z1.lpEngDomain.liveperson.net"},{"service":"liveEngageUI","account":"12757882","baseURI":"va.le1.liveperson.net"},{"service":"liveEngage","account":"12757882","baseURI":"z1.le.liveperson.net"},{"service":"msdkgw","account":"12757882","baseURI":"va.v.liveperson.net"},{"service":"leCdnDomain","account":"12757882","baseURI":"lpcdn.lpsnmedia.net"},{"service":"agentVep","account":"12757882","baseURI":"va.agentvep.liveperson.net"},{"service":"appKeyManagement","account":"12757882","baseURI":"z1.appkey-mgmnt.liveperson.net"},{"service":"keyService","account":"12757882","baseURI":"keyservice.liveperson.net"},{"service":"leIntegration","account":"12757882","baseURI":"va.octopus.liveperson.net"},{"service":"visitorFeed","account":"12757882","baseURI":"va.v-feed.liveperson.net"},{"service":"mobileVisit","account":"12757882","baseURI":"dispatch.look.io"},{"service":"facadeMsg","account":"12757882","baseURI":"va.facade-msg.liveperson.net"},{"service":"staticContent","account":"12757882","baseURI":"va.content.lpsnmedia.net"},{"service":"provisionGW","account":"12757882","baseURI":"va.register.liveperson.net"},{"service":"accountCreation","account":"12757882","baseURI":"z1.acc-create.liveperson.net"},{"service":"ALL","account":"12757882","baseURI":"sales.liveperson.net"},{"service":"leBackofficeInt","account":"12757882","baseURI":"z1.houston.int.liveperson.net"},{"service":"predictiveDialer","account":"12757882","baseURI":"va.pd.liveperson.net"},{"service":"asyncMessaging","account":"12757882","baseURI":"va.ams.liveperson.net"},{"service":"engHistDomain","account":"12757882","baseURI":"va.enghist.liveperson.net"},{"service":"adminArea","account":"12757882","baseURI":"sales.liveperson.net"},{"service":"leDataReporting","account":"12757882","baseURI":"va.data.liveperson.net"},{"service":"visitManager","account":"12757882","baseURI":"va.vm.liveperson.net"},{"service":"liveEngageVep","account":"12757882","baseURI":"va.batchelor.liveperson.net"},{"service":"mobileChat","account":"12757882","baseURI":"dispatch.look.io"},{"service":"leBilling","account":"12757882","baseURI":"va.le-billing.liveperson.net"},{"service":"pusherInt","account":"12757882","baseURI":"va.pushsrv.int.liveperson.net"},{"service":"accountConfigReadWrite","account":"12757882","baseURI":"va.ac.liveperson.net"},{"service":"cqmMsg","account":"12757882","baseURI":"va.cqm-msg.liveperson.net"},{"service":"conversationVep","account":"12757882","baseURI":"va-e.convep.liveperson.net"},{"service":"batchelor","account":"12757882","baseURI":"z1.batchelor.liveperson.net"},{"service":"msgHist","account":"12757882","baseURI":"va.msghist.liveperson.net"},{"service":"loggos","account":"12757882","baseURI":"z1.loggos.liveperson.net"},{"service":"asyncMessagingEnt","account":"12757882","baseURI":"va.msg.liveperson.net"},{"service":"etool","account":"12757882","baseURI":"z1.etoolDomain.liveperson.net"},{"service":"accountConfigReadOnly","account":"12757882","baseURI":"z1.acr.liveperson.net"}],"taglets":[{"name":"lpTransporter","code":"window.lpTag\u003dwindow.lpTag||{};lpTag.taglets\u003dlpTag.taglets||{};lpTag.taglets.lpajax_utils\u003d{_name:\"lpajax_utils\",_v:\"0.1\",each:function(e,t,r){if(null!\u003de){var a\u003dArray.prototype.forEach;if(a\u0026\u0026e.forEach\u003d\u003d\u003da)e.forEach(t,r);else if(e.length\u003d\u003d\u003d+e.length){for(var n\u003d0,o\u003de.length;o\u003en;n++)if(n in e\u0026\u0026t.call(r,e[n],n,e)\u003d\u003d\u003d{})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)\u0026\u0026t.call(r,e[l],l,e)\u003d\u003d\u003d{})return}},extend:function(e){this.each(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]\u003dt[r]});return e},isEmptyObj:function(e){for(var t in e)return!1;return!0},init:function(){}};window.lpTag\u003dwindow.lpTag||{};lpTag.taglets\u003dlpTag.taglets||{};lpTag.taglets.lpAjax\u003dlpTag.taglets.lpAjax||function(e){function t(){m\u003d!0}function r(t,r){e.lpTag\u0026\u0026lpTag.log\u0026\u0026lpTag.log(t,r,f)}function a(e,t){if(g[e])r(\"Existing transport: \"+e+\" tried to register\",h.DEBUG);else{g[e]\u003dt;r(\"Added transport: \"+e,h.DEBUG)}}function n(e){m||t();var a\u003d\"unknown\";try{var n\u003di(e);if(n){n.issueCall(e);return!0}r(\"No Transport found to issueCall\",h.ERROR);c(h.ERROR,e.error,{responseCode:601,error:\"No Transport found to issueCall, request: \"+e.url,body:\"ERROR\"},e.context)}catch(o){n\u0026\u0026n.getName\u0026\u0026(a\u003dn.getName());r(\"Transport - \"+a+\" - unknown exception while issueCall\",h.ERROR);c(h.ERROR,e.error,{responseCode:600,error:\"Transport - \"+a+\" - unknown exception while issueCall: \"+e.url+\" e\u003d\"+o,body:\"ERROR\"},e.context)}}function o(e){m||t();for(var r in e){var a\u003dg[r];a\u0026\u0026a.configure(e[r])}}function l(e){if(e\u0026\u0026\"object\"\u003d\u003dtypeof e){e.appName\u003dp;e.ts\u003d(new Date).getTime();e.tags\u0026\u0026e.tags.constructor\u003d\u003d\u003dArray\u0026\u0026e.tags.push({pageId:y});r(e,h.METRICS)}}function i(e){for(var t,r\u003d!1,a\u003d-1,n\u003d0;n\u003ce.transportOrder.length;n++)if(!r){t\u003du({},e);var o\u003dg[t.transportOrder[n]];if(o\u0026\u0026o.isValidRequest\u0026\u0026o.isValidRequest(t)){r\u003d!0;a\u003dn}}return r?g[t.transportOrder[a]]:null}function s(e,t,r){if(null!\u003de){var a\u003dArray.prototype.forEach;if(a\u0026\u0026e.forEach\u003d\u003d\u003da)e.forEach(t,r);else if(e.length\u003d\u003d\u003d+e.length){for(var n\u003d0,o\u003de.length;o\u003en;n++)if(n in e\u0026\u0026t.call(r,e[n],n,e)\u003d\u003d\u003d{})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)\u0026\u0026t.call(r,e[l],l,e)\u003d\u003d\u003d{})return}}function u(e){s(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]\u003dt[r]});return e}function c(e,t,a,n){if(\"function\"\u003d\u003dtypeof t)try{t.call(n||null,a);t\u003dnull}catch(o){r(\"runCallback: Exception in execution of callback, type :\"+e+\" e\u003d[\"+o.message+\"]\",h.ERROR)}else r(\"runCallBack: No callback, of type :\"+e,h.INFO)}var d\u003d\"1.1.3\",f\u003d\"lpAjax\",p\u003d\"lpTransporter\",g\u003d{},m\u003d!1,h\u003d{ERROR:\"ERROR\",DEBUG:\"DEBUG\",INFO:\"INFO\",METRICS:\"METRICS\"},y\u003d\"lpT\"+Math.floor(1e5*Math.random())+\"_\"+Math.floor(1e6*Math.random());return{getVersion:function(){return d},getName:function(){return f},init:t,publishMetrics:l,issueCall:n,configureTransports:o,addTransport:a}}(window);window.lpTag\u003dwindow.lpTag||{};lpTag.taglets\u003dlpTag.taglets||{};lpTag.taglets.jsonp\u003dlpTag.taglets.jsonp||function(e){function t(){if(lpTag\u0026\u0026lpTag.taglets\u0026\u0026lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(W,z)}catch(e){}E()}function r(e){if(e)for(var r in e)D.hasOwnProperty(r)\u0026\u0026e.hasOwnProperty(r)\u0026\u0026(D[r]\u003de[r]);t()}function a(t){var r\u003d!1;if(M\u0026\u0026t\u0026\u0026t.url){var a\u003d!1;t.callbackName\u0026\u0026\"string\"\u003d\u003dtypeof t.callbackName\u0026\u0026(Q[t.callbackName]||e[t.callbackName])\u0026\u0026(a\u003d!0);var n;try{n\u003dc(t)}catch(o){k(\"Could not evaluate the length  of the request, e\u003d\"+o,L.ERROR,\"isValidRequest\");r\u003d!1}\"undefined\"!\u003dtypeof n\u0026\u0026U\u003en\u0026\u0026!a\u0026\u0026(r\u003d!0)}return r}function n(e){var t;if(!a(e)){k(\"URL request was too long or static callback name already exists, url: \"+t,L.ERROR,\"issueCall\");T();e\u0026\u0026e.error\u0026\u0026F(L.ERROR,e.error,s(600,\"Transport - JSONP - unable to run request: \"+e.url),e.context);return!1}e\u003dl(e);e.callbackName\u0026\u0026\"string\"\u003d\u003dtypeof e.callbackName?e.retries\u003d0:e.callbackName\u003dq+i();t\u003de.url+(e.url.indexOf(\"?\")\u003e-1?\"\u0026\":\"?\")+e.callback+\"\u003d\"+e.callbackName;e.data\u0026\u0026(t+\u003d\"\u0026\"+d(e.data));e.query\u0026\u0026(t+\u003d\"\u0026\"+d(e.query));e.callUrl\u003dt;if(p(e)){I(e);g()}else k(\"URL request was too long and was not sent, url: \"+t,L.ERROR,\"issueCall\");return!0}function o(){var e\u003d{};for(var t in D)D.hasOwnProperty(t)\u0026\u0026(e[t]\u003dD[t]);return e}function l(e){if(\"string\"\u003d\u003dtypeof e){var t\u003de;e\u003d{url:t}}if(!e.url)return!1;e.encoding\u003de.encoding||D.encoding;e.callback\u003de.callback||D.callback;e.retries\u003d\"number\"\u003d\u003dtypeof e.retries?e.retries:D.retries;e.timeout\u003de.timeout?e.timeout:D.timeout;return e}function i(e){var t,r\u003d99999,a\u003d\"x\";t\u003de?r+a+r:Math.round(Math.random()*r)+a+Math.round(Math.random()*r);return t}function s(e,t){return{statusCode:e,responseCode:e,error:t,body:\"ERROR\"}}function u(){return\"scr\"+Math.round(999999999*Math.random())+\"_\"+Math.round(999999999*Math.random())}function c(e){var t\u003dH;e.callbackName\u0026\u0026\"string\"\u003d\u003dtypeof e.callbackName\u0026\u0026(t\u003de.callbackName.length);return 4+(e.callback||D.callback).length+e.url.length+t+d(e.data).length+d(e.query).length}function d(e){var t\u003d\"\";if(\"string\"\u003d\u003dtypeof e)t+\u003de;else{var r\u003d!0;for(var a in e){var n;\"object\"\u003d\u003dtypeof e[a]?n\u003df(e[a]):\"function\"!\u003dtypeof e[a]\u0026\u0026(n\u003de[a]);if(\"undefined\"!\u003dtypeof n){r||(t+\u003d\"\u0026\");t+\u003dencodeURIComponent(a)+\"\u003d\"+encodeURIComponent(n);r\u003d!1}}}return t}function f(e){var t;if(\"function\"\u003d\u003dtypeof Array.prototype.toJSON){var r\u003dArray.prototype.toJSON;delete Array.prototype.toJSON;try{t\u003dJSON.stringify(e)}catch(a){Array.prototype.toJSON\u003dr;throw a}Array.prototype.toJSON\u003dr}else t\u003dJSON.stringify(e);return t}function p(t){var r,a\u003d!1,n\u003dnew RegExp(/(http{1}s{0,1}?:\\/\\/)([^\\/\\?]+)(\\/?)/gi);r\u003dn.exec(0\u003d\u003d\u003dt.callUrl.indexOf(\"http\")?t.callUrl:e.location.href);if(r\u0026\u0026r.length\u003e\u003d3\u0026\u0026\"\"!\u003d\u003dr[2]){var o\u003dr[2].toLowerCase();t.domainMatch\u003do;_[o]\u003d_[o]||[];_[o].inFlight\u003d_[o].inFlight||0;_[o].push(t);a\u003d!0;G+\u003d1;k(\"buffered URL: \"+t.callUrl,L.DEBUG,\"lpTag.taglets.jsonp.bufferRequest\")}else k(\"NO MATCH for URL: \"+t.callUrl,L.ERROR,\"lpTag.taglets.jsonp.bufferRequest\");return a}function g(){var e;for(var t in _)if(_.hasOwnProperty(t)){e\u003d_[t];for(var r\u003d!1;!r\u0026\u0026e.inFlight\u003c6\u0026\u0026e.length\u003e0;){var a\u003de.shift();if(a){k(\"Sent URL: \"+a.callUrl,L.DEBUG,\"lpTag.taglets.jsonp.sendRequests\");a.scriptId\u003dh(a.callUrl,a.encoding,a.callbackName);a.startTime\u003d(new Date).getTime();y(t,a.callbackName,a.timeout);G-\u003d1}else r\u003d!0}}e\u003dnull}function m(){clearTimeout(A);A\u003dnull;var t\u003dnew Date;for(var r in Q)if(Q.hasOwnProperty(r)\u0026\u0026Q[r].launchTime){var a\u003dt-Q[r].launchTime;(Q[r].loadTime||a\u003eQ[r].timeout)\u0026\u0026e[r].apply(null,[s(408,{message:\"Request timed out\",name:\"timeout\"}),!0])}P\u003e0\u0026\u0026(A\u003dsetTimeout(m,1e3))}function h(t,r,a){var n\u003du(),o\u003ddocument.createElement(\"script\");o.setAttribute(\"type\",\"text/javascript\");o.setAttribute(\"charset\",r);o.onload\u003dfunction(){Q[a]\u0026\u0026(Q[a].loadTime\u003dnew Date);this.onload\u003dthis.onerror\u003dthis.onreadystatechange\u003dnull};e.addEventListener?o.onerror\u003dfunction(){Q[a]\u0026\u0026(Q[a].loadTime\u003dnew Date);this.onload\u003dthis.onerror\u003dthis.onreadystatechange\u003dnull}:o.onreadystatechange\u003dfunction(){if(this.readyState\u0026\u0026(\"loaded\"\u003d\u003d\u003dthis.readyState||\"complete\"\u003d\u003d\u003dthis.readyState)){Q[a]\u0026\u0026(Q[a].loadTime\u003dnew Date);this.onload\u003dthis.onerror\u003dthis.onreadystatechange\u003dnull}};o.setAttribute(\"src\",t);o.setAttribute(\"id\",n);document.getElementsByTagName(\"head\")[0].appendChild(o);A||(A\u003dsetTimeout(m,1e3));o\u003dnull;return n}function y(e,t,r){_[e].inFlight\u003d_[e].inFlight+1;Q[t]\u003d{launchTime:new Date,timeout:r};P+\u003d1;S+\u003d1}function T(){B+\u003d1}function R(e){var t\u003ddocument.getElementById(e);if(t)try{t.parentNode.removeChild(t)}catch(r){k(\"error when removing script\",L.ERROR,\"removeScript\")}}function v(e){_[e].inFlight\u003d_[e].inFlight-1;P-\u003d1}function O(e,t,r){N(t.startTime,t.url,r);R(t.scriptId);v(t.domainMatch);x(t.callbackName,r);if(r){if(t.callbackName){t.callbackName\u003dnull;delete t.callbackName}w(e,t)}else{C(t);F(\"callback\",t.success,e,t.context);t\u003dnull;g()}}function b(){var e;if(lpTag.taglets.lpAjax\u0026\u0026lpTag.taglets.lpAjax.publishMetrics\u0026\u0026V.length\u003e0){e\u003d{tags:[{transport:W}],metrics:V};lpTag.taglets.lpAjax.publishMetrics(e);V.length\u003d0}E()}function E(){j\u0026\u0026clearTimeout(j);j\u003dsetTimeout(b,D.metricsTimeout)}function N(e,t,r){var a,n;if(e){n\u003d(new Date).getTime();a\u003dn-e;V.push({rd:a,ts:e,url:t,method:\"GET\",statusCode:r?400:200});V.length\u003e\u003dD.metricsCount\u0026\u0026b()}}function w(e,t){J+\u003d1;if(t.retries\u003e0){t.retries\u003dt.retries-1;n(t)}else{C(t);F(L.ERROR,t.error,e||s(408,{id:408,name:\"TIMEOUT\",message:\"Request has timed out on all retries\"}),t.context);t\u003dnull;g()}}function C(e){for(var t\u003d[\"callUrl\",\"retries\",\"id\",\"requestTimeout\",\"type\",\"encoding\",\"launchTime\",\"callbackName\",\"domainMatch\",\"startTime\"],r\u003d0;r\u003ct.length;r++)if(e.hasOwnProperty(t[r])){e[t[r]]\u003dnull;delete e[t[r]]}}function F(e,t,r,a){if(\"function\"\u003d\u003dtypeof t)try{t.call(a||null,r);t\u003dnull}catch(n){k(\"Exception in execution of callback, type :\"+e+\" e\u003d[\"+n.message+\"]\",L.ERROR,\"runCallback\")}else k(\"No callback, of type :\"+e,L.INFO,\"runCallback\")}function x(t,r){Q[t]\u003dnull;delete Q[t];if(r\u003d\u003d\u003d!0)e[t]\u003dfunction(){e[t]\u003dnull;try{delete e[t]}catch(r){}};else{e[t]\u003dnull;try{delete e[t]}catch(a){}}}function I(t){if(Q[t.callbackName]){T();w(s(409,{message:\"This callbackName is already in a pending request and can\u0027t be serviced\",id:409,name:\"CONFLICT\"}),t)}else e[t.callbackName]\u003dfunction(e,r){O(e,t,r)}}function k(t,r,a){if(e.lpTag\u0026\u0026lpTag.log){\"string\"\u003d\u003dtypeof t\u0026\u0026a\u0026\u0026(t\u003da+\": \"+t);lpTag.log(t,r,W)}}var A,j,D\u003d{callback:\"cb\",encoding:\"UTF-8\",timeout:1e4,retries:2,metricsCount:100,metricsTimeout:6e4},L\u003d{ERROR:\"ERROR\",DEBUG:\"DEBUG\",INFO:\"INFO\"},M\u003d!0,U\u003d2083,q\u003d\"lpCb\",_\u003d{},S\u003d0,G\u003d0,P\u003d0,B\u003d0,J\u003d0,V\u003d[],Q\u003d{},H\u003di(!0).length,K\u003d\"1.1.7\",W\u003d\"jsonp\",z\u003d{init:t,configure:r,issueCall:n,isValidRequest:a,getVersion:function(){return K},getName:function(){return W},getDefaults:o,inspect:function(){return{name:W,version:K,callsMade:S,errorsFound:J,pending:P,buffered:G,refused:B,defaults:o()}}};t();return z}(window);window.lpTag\u003dwindow.lpTag||{};lpTag.taglets\u003dlpTag.taglets||{};lpTag.taglets.postmessage\u003dlpTag.taglets.postmessage||function(e){function t(e){var t\u003d0\u003d\u003d\u003dlocation.protocol.indexOf(\"https\");if(e){if(e.frames){e.frames\u003de.frames.constructor\u003d\u003d\u003dArray?e.frames:[e.frames];for(var r\u003d0;r\u003ce.frames.length;r++)g(e.frames[r],t)}if(e.defaults)for(var a in e.defaults)Te.hasOwnProperty(a)\u0026\u0026e.defaults.hasOwnProperty(a)\u0026\u0026(Te[a]\u003de.defaults[a])}re\u003d!0}function r(){if(lpTag\u0026\u0026lpTag.taglets\u0026\u0026lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(te,Oe)}catch(e){}}function a(t){var r\u003d!1;if(e.postMessage\u0026\u0026e.JSON\u0026\u0026t\u0026\u0026t.success\u0026\u0026(t.domain\u0026\u0026t.validation||t.url)){t.domain\u003dt.domain||p(t.url);(ae[t.domain]||ue[t.domain])\u0026\u0026(r\u003d!0)}return r}function n(e){var t\u003d!1;if(re\u0026\u0026a(e))if(ae[e.domain])if(ae[e.domain].validated!\u003d\u003dve.PENDING||e.validation){t\u003dL(e);t?v(e.domain):ne[e.callId].timeout\u003d0}else t\u003dO(e.domain,e);else{Y(\"Adding iFrame to DOM - first request: \"+e.domain,fe.INFO,\"issueCall\");t\u003dO(e.domain,e);m(ue[e.domain]);delete ue[e.domain]}else t\u003dD(e.domain,e.error,e.context);return t}function o(e){return e\u0026\u0026ae[e]?{url:ae[e].url,validated:ae[e].validated,requestCount:ae[e].requestCount,defaults:S(ae[e].defaults),started:ae[e].validated\u003d\u003d\u003dve.VALIDATED}:{}}function l(){var e\u003d{};for(var t in ae)ae.hasOwnProperty(t)\u0026\u0026(e[t]\u003do(t));return e}function i(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent(\"on\"+t,r)}function s(e,t){return{callId:e,responseType:t.responseType,responseCode:t.responseCode,error:{message:t.message,id:t.responseCode,name:t.name}}}function u(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent\u0026\u0026e.detachEvent(\"on\"+t,r)}function c(){if(document.body){ce\u003d!0;d()}else setTimeout(c,5)}function d(){for(;de.length\u003e0;)try{de.shift().call(null)}catch(e){Y(\"Unable to execute queued callbacks for window interactive state: \"+e,fe.ERROR,\"_attachPendingIFrames\")}}function f(e){return e+\"_\"+Math.floor(1e5*Math.random())+\"_\"+Math.floor(1e5*Math.random())}function p(e){var t,r\u003dnew RegExp(/(http{1}s{0,1}?:\\/\\/)([^\\/\\?]+)(\\/?)/gi),a\u003dnull;if(0!\u003d\u003de.indexOf(\"http\"))return location.protocol+\"//\"+location.host;t\u003dr.exec(e);t\u0026\u0026t.length\u003e\u003d3\u0026\u0026\"\"!\u003d\u003dt[2]\u0026\u0026(a\u003dt[1].toLowerCase()+t[2].toLowerCase());return a}function g(e,t){var r,a,n\u003d!1;if(!e||!e.url||\"string\"!\u003dtypeof e.url){Y(\"iFrame configuration empty or missing url parameter\",fe.ERROR,\"_queueFrame\");return n}r\u003dp(e.url);a\u003d0\u003d\u003d\u003de.url.toLowerCase().indexOf(\"https\");if(!(ae[r]||ue[r]||t\u0026\u0026a!\u003d\u003dt)){ue[r]\u003de;n\u003d!0}return n}function m(e){var t\u003dp(e.url);if(ae[t])return b(t,e.callback||e.success,e.context);var r\u003df(\"fr\");ae[t]\u003d{elem:E(r),url:e.url,validated:ve.PENDING,defaults:e.defaults||{},delayLoad:isNaN(e.delayLoad)?0:e.delayLoad,requestCount:0,success:e.callback||e.success,error:e.error,maxReloadRetries:e.maxReloadRetries||3,reloadInterval:1e3*e.reloadInterval||3e4};setTimeout(function(){y(e.url,t)},ae[t].delayLoad);Y(\"iFrame Queued to load \"+t,fe.INFO,\"_addFrame\");return ve.PENDING}function h(e){var t\u003dp(e.url);ue[t]\u003d{url:e.url,defaults:e.defaults||{},delayLoad:e.delayLoad,success:e.success,error:e.error,maxReloadRetries:e.maxReloadRetries,reloadInterval:e.reloadInterval/1e3}}function y(e,t){ce?T(e,t):de.push(function(){T(e,t)})}function T(e,t){ae[t].loadCallback\u003dae[t].loadCallback||R(t);V(ae[t].elem,e);i(ae[t].elem,\"load\",ae[t].loadCallback);ae[t].iFrameOnloadTimeout\u003dsetTimeout(ae[t].loadCallback,Re);ae[t].attachTime\u003d(new Date).getTime();document.body.appendChild(ae[t].elem)}function R(e){return function(t){if(ae[e].iFrameOnloadTimeout){clearTimeout(ae[e].iFrameOnloadTimeout);delete ae[e].iFrameOnloadTimeout}ae[e].loadTime\u003d(new Date).getTime()-ae[e].attachTime;C(e,t)}}function v(e){le+\u003d1;se+\u003d1;ae[e].requestCount\u003dae[e].requestCount+1}function O(e,t){oe[e]\u003doe[e]||[];oe[e].push(t);return!0}function b(e,t,r){var a\u003do(e);W(t,r,a);return ae[e].validated}function E(e){var t\u003ddocument.createElement(\"IFRAME\");t.setAttribute(\"id\",e);t.setAttribute(\"name\",e);t.setAttribute(\"tabindex\",\"-1\");t.setAttribute(\"aria-hidden\",\"true\");t.setAttribute(\"title\",\"\");t.setAttribute(\"role\",\"presentation\");t.style.width\u003d\"0px\";t.style.height\u003d\"0px\";t.style.position\u003d\"absolute\";t.style.top\u003d\"-1000px\";t.style.left\u003d\"-1000px\";return t}function N(e,t,r,a,n,o){var l\u003d!1;if(e\u0026\u0026t\u0026\u0026\"function\"\u003d\u003dtypeof t){ne[e]\u003d{success:t,error:r,progress:a,ctx:n,launchTime:new Date,timeout:isNaN(o)?Te.timeout:o+1e3};l\u003d!0}return l}function w(e){if(ne[e]){ne[e]\u003dnull;delete ne[e];return!0}return!1}function C(e,t){Y(\"onLoad validation called \"+e,fe.INFO,\"_validateFrame\");var r\u003dfunction(t){F(t,e)};t\u0026\u0026t.error?F(t,e):setTimeout(function(){n({domain:e,success:r,error:r,validation:!0,timeout:100,retries:-1,defaults:ae[e].defaults})},10);return!0}function F(e,t){var r,a\u003dae[t];Y(\"running validation of domain \"+t,fe.INFO,\"_validateFrameCallback\");if(a){ae[t].validated\u003de\u0026\u0026e.error?ve.FAILED:ve.VALIDATED;r\u003dae[t].validated\u003d\u003d\u003dve.VALIDATED;r?x(t,e):ae[t].reloadObj\u0026\u0026ae[t].reloadObj.retriesLeft\u003e0?k(t):I(t)}a\u003dnull;return r}function x(e,t){var r;Y(\"FrameLoaded \"+e,fe.INFO,\"_runFrameValidated\");r\u003dS(he);for(var a in t)t.hasOwnProperty(a)\u0026\u0026(r[a]\u003dt[a]);W(ae[e].success,ae[e].context,r);H(e);A(e,!0)}function I(e){Y(\"iFrame is a teapot \"+e,fe.ERROR,\"_runFrameFailedToLoad\");if(ae[e].error){var t\u003ds(0,ye);t.domain\u003de;W(ae[e].error,ae[e].context,t)}j(e);A(e,!1)}function k(e){Y(\"Retry loading domain: \"+e,\"info\",\"_runReloadAttempt\");A(e,!1);P(e)}function A(e,t){Y(\"Running buffer queue : \"+e+\" loaded: \"+t,fe.INFO,\"_runQueuedRequests\");if(oe[e]\u0026\u0026oe[e].length\u003e0){do{var r\u003doe[e].shift();t?n(r):W(r.error,r.context,{responseCode:600,error:\"Transport - postmessage - unable to run request: \"+e,body:\"ERROR\"})}while(oe[e].length\u003e0);oe[e]\u003dnull;delete oe[e]}}function j(e){Y(\"Cleaning up failed iFrame: \"+e,fe.INFO,\"_cleanupIFrame\");if(ae[e]){u(ae[e].elem,\"load\",ae[e].loadCallback);ae[e].elem.parentNode.removeChild(ae[e].elem);var t\u003dS(ye);t.domain\u003de;t.url\u003dae[e].url;W(ae[e].error,ae[e].context,t);h(ae[e]);ae[e]\u003dnull;delete ae[e]}}function D(e,t,r){Y(\"Frame not found for domain: \"+e,fe.ERROR,\"_noFrameFound\");W(t,{responseCode:600,error:\"Transport - postmessage - unable to run request: \"+e,body:\"ERROR\"},r);return!1}function L(e){var t,r\u003d!1;e\u003dU(e);t\u003dS(e);try{t\u003dM(t)}catch(a){Y(\"Error trying to _stringify message\",fe.ERROR,\"sendMessageToFrame\");return!1}Y(\"sending msg to domain \"+e.domain,fe.DEBUG,\"sendMessageToFrame\");var n;isNaN(e.timeout)||isNaN(e.retries)||(n\u003de.timeout*(e.retries+1)+2e3);N(e.callId,e.success,e.error,e.progress,e.context,n);try{r\u003dq(e.domain,t);$\u003dsetTimeout(_,1e3)}catch(a){Y(\"Error trying to send message: \"+a,fe.ERROR,\"sendMessageToFrame\");r\u003d!1}return r}function M(e){var t;if(\"function\"\u003d\u003dtypeof Array.prototype.toJSON){var r\u003dArray.prototype.toJSON;delete Array.prototype.toJSON;try{t\u003dJSON.stringify(e)}catch(a){Array.prototype.toJSON\u003dr;throw a}Array.prototype.toJSON\u003dr}else t\u003dJSON.stringify(e);return t}function U(t){var r\u003dae[t.domain]\u0026\u0026ae[t.domain].defaults;t.callId\u003df(\"call\");t.returnDomain\u003dpe;\"undefined\"\u003d\u003dtypeof t.timeout\u0026\u0026(t.timeout\u003dr\u0026\u0026r.timeout||Te.timeout);\"undefined\"\u003d\u003dtypeof t.retries\u0026\u0026(t.retries\u003dr\u0026\u0026\"undefined\"!\u003dtypeof r.retries?r.retries:Te.retries);t.progress\u0026\u0026(t.fireProgress\u003d!0);t.headers\u003dt.headers||{};t.headers[\"LP-URL\"]\u003de.location.href;return t}function q(e,t){var r\u003d!1;try{ae[e].elem.contentWindow.postMessage(t,e);r\u003d!0}catch(a){Y(\"Error trying to send message: \"+a,fe.ERROR,\"_postTheMessage\")}return r}function _(){$\u0026\u0026clearTimeout($);$\u003dnull;var e\u003dnew Date,t\u003d0,r\u003d[];for(var a in ne)if(ne.hasOwnProperty(a)\u0026\u0026ne[a].launchTime){var n\u003de-ne[a].launchTime;n\u003ene[a].timeout?r.push(a):t+\u003d1}if(r.length){Y(\"Checking errors found \"+r.length+\" timeout callbacks to call\",fe.DEBUG,\"_checkForErrors\");for(var o\u003d0;o\u003cr.length;o++)G(s(r[o],me))}t\u003e0\u0026\u0026($\u003dsetTimeout(_,1e3));return!0}function S(e){var t\u003de;try{t\u003dJSON.parse(M(e))}catch(r){}return t}function G(e,t){var r,a\u003dne[e.callId],n\u003de.responseType,o\u003d!1;if(e.callId\u0026\u0026ne[e.callId]||e.responseType\u003d\u003d\u003dge.reloading||e.responseType\u003d\u003d\u003dge.stats)try{switch(n){case ge.completed:r\u003da.success;o\u003d!0;break;case ge.error:r\u003da.error;o\u003d!0;ie+\u003d1;break;case ge.progress:r\u003da.progress;break;case ge.reloading:e\u003dt;r\u003dP;break;case ge.stats:r\u003dZ;e\u003de.rawData}if(o){w(e.callId);K(e);se\u003dse\u003e\u003d0?0:se-1}r\u0026\u0026\"function\"\u003d\u003dtypeof r\u0026\u0026W(r,a\u0026\u0026a.ctx||null,e);r\u003dnull;a\u003dnull}catch(l){Y(\"Error in executing callback: \"+l,fe.ERROR,\"_executeMessageCallback\");return!1}return!0}function P(e){Y(\"Got reload request from \"+e,fe.INFO,\"_handleReload\");ae[e].validated\u003dve.PENDING;if(!ae[e].reloadObj){Y(\"Creating reloadObj\"+e,fe.DEBUG,\"_handleReload\");ae[e].reloadObj\u003dQ(e)}B(e)}function B(e){Y(\"Reload try for domain \"+e+\" ,retries left \"+ae[e].reloadObj.retriesLeft,fe.INFO,\"_reloadIFrame\");ae[e].reloadObj.retriesLeft\u003dae[e].reloadObj.retriesLeft-1;ae[e].reloadObj.setLocationTimeout\u0026\u0026clearTimeout(ae[e].reloadObj.setLocationTimeout);if(ae[e].reloadObj.retry)ae[e].reloadObj.setLocationTimeout\u003dsetTimeout(J(e),ae[e].reloadInterval);else{ae[e].reloadObj.retry\u003d!0;J(e)()}}function J(e){return function(){ae[e].iFrameOnloadTimeout\u003dsetTimeout(function(){C(e,{error:{code:404,message:\"Frame did not trigger load\"}})},Re);V(ae[e].elem,ae[e].url)}}function V(e,t){t+\u003dt.indexOf(\"?\")\u003e0?\"\u0026bust\u003d\":\"?bust\u003d\";t+\u003d(new Date).getTime();t+\u003d\"\u0026loc\u003d\"+encodeURIComponent(location.protocol+\"//\"+location.host);Y(\"Setting iFrame to URL: \"+t,fe.INFO,\"_setIFrameLocation\");e.setAttribute(\"src\",t)}function Q(e){Y(\"Creating reload object \"+e,fe.INFO,\"_createReloadObject\");var t\u003dae[e].maxReloadRetries;return{retriesLeft:t}}function H(e){Y(\"Cleaning up reload object for this instance\"+e,fe.INFO,\"_cleanUpReloadObject\");if(ae[e].reloadObj){ae[e].reloadObj.setLocationTimeout\u0026\u0026clearTimeout(ae[e].reloadObj.setLocationTimeout);ae[e].reloadObj\u003dnull;delete ae[e].reloadObj}}function K(e){for(var t\u003d[\"callId\",\"responseType\"],r\u003d0;r\u003ct.length;r++){e[t[r]]\u003dnull;delete e[t[r]]}}function W(e,t,r){if(e\u0026\u0026\"function\"\u003d\u003dtypeof e)try{e.call(t||null,r)}catch(a){Y(\"Error in executing callback: \"+a,fe.ERROR,\"runCallback\")}}function z(e){var t,r;try{r\u003de.origin;if(!ae[r])return;t\u003dX(e.data);t.body\u003dX(t.body)}catch(a){t\u003dnull;Y(\"Error in handling message from frame:\"+a+\" origin: \"+r,fe.ERROR,\"_handleMessage\")}t\u0026\u0026\"object\"\u003d\u003dtypeof t\u0026\u0026G(t,r)}function X(e){var t\u003de;if(\"string\"\u003d\u003dtypeof e)try{t\u003dJSON.parse(e)}catch(r){Y(\"Error in parsing string: \"+e,fe.DEBUG,\"_parseJSONString\")}return t}function Y(t,r,a){if(e.lpTag\u0026\u0026lpTag.log){\"string\"\u003d\u003dtypeof t\u0026\u0026a\u0026\u0026(t\u003da+\": \"+t);lpTag.log(t,r,te)}}function Z(e){if(lpTag.taglets.lpAjax\u0026\u0026lpTag.taglets.lpAjax.publishMetrics){e.tags\u0026\u0026e.tags.constructor\u003d\u003d\u003dArray\u0026\u0026e.tags.push({transport:te});lpTag.taglets.lpAjax.publishMetrics(e)}}var $,ee\u003d\"1.1.8\",te\u003d\"postmessage\",re\u003d!0,ae\u003d{},ne\u003d{},oe\u003d{},le\u003d0,ie\u003d0,se\u003d0,ue\u003d{},ce\u003d!1,de\u003d[],fe\u003d{DEBUG:\"DEBUG\",INFO:\"INFO\",ERROR:\"ERROR\"},pe\u003dp(document.location.href),ge\u003d{progress:\"progressLoad\",completed:\"completeLoad\",success:\"success\",error:\"errorLoad\",reloading:\"reloading\",stats:\"statData\"},me\u003d{responseType:ge.error,responseCode:404,message:\"Request timed out on parent postMessage layer\",name:\"TIMEOUT\"},he\u003d{responseType:ge.success,responseCode:200,message:\"iFrame has successfully loaded\",name:\"OK\"},ye\u003d{responseType:ge.error,responseCode:418,message:\"This iFrame is a teapot, not very useful for communication but lovely for earl grey\",name:\"TEAPOT\"},Te\u003d{timeout:6e4,metricsCount:1e3},Re\u003d1e4,ve\u003d{VALIDATED:\"valid\",PENDING:\"pending\",FAILED:\"failed\"};c();i(e,\"message\",z);var Oe\u003d{v:ee,name:te,init:r,issueCall:n,isValidRequest:a,getVersion:function(){return ee},getName:function(){return te},configure:t,getFrameData:o,inspect:function(){return{name:te,version:ee,callsMade:le,errorsFound:ie,pending:se,defaults:Te,iFrameList:S(ue),activeFrames:l()}}};r();return Oe}(window);window.lpTag\u003dlpTag||{};lpTag.taglets\u003dlpTag.taglets||{};lpTag.taglets.lpTransporter\u003dlpTag.taglets.lpTransporter||function(){function e(e,t){window.lpTag\u0026\u0026lpTag.log\u0026\u0026lpTag.log(e,t,r)}function t(){for(var t\u003d0;t\u003cn.taglets.length;t++){var r\u003dlpTag.taglets[n.taglets[t]];try{r.init();e(\"Called init on taglet: \"+n.taglets[t],\"DEBUG\")}catch(a){e(\"Error init taglet:\"+n.taglets[t]+\"  e\u003d\"+a,\"ERROR\")}}for(var o\u003d0;t\u003cn.taglets.length;o++){var l\u003dlpTag.taglets[n.taglets[o]];try{\"function\"\u003d\u003dtypeof l.start\u0026\u0026l.start();e(\"Called start on taglet: \"+n.taglets[o],\"DEBUG\")}catch(a){e(\"Error start taglet: \"+n.taglets[o]+\"e\u003d \"+a,\"ERROR\")}}}var r\u003d\"lpTransporter\",a\u003d\"1.1.0\",n\u003d{taglets:[\"lpAjax\",\"lpajax_utils\",\"jsonp\",\"postmessage\"]};return{v:a,name:r,init:t}}();"}],"site":"12757882","features":{"Common.LiveEngage_2_CrossDomainStorage":false}});